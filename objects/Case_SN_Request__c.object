<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Accept</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Large</formFactor>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <formFactor>Small</formFactor>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>false</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <deploymentStatus>Deployed</deploymentStatus>
    <enableActivities>true</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableFeeds>false</enableFeeds>
    <enableHistory>true</enableHistory>
    <enableLicensing>false</enableLicensing>
    <enableReports>true</enableReports>
    <enableSearch>true</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <externalSharingModel>ControlledByParent</externalSharingModel>
    <fields>
        <fullName>Approval__c</fullName>
        <externalId>false</externalId>
        <label>RFC Approval</label>
        <length>40</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Assigned_Group__c</fullName>
        <externalId>false</externalId>
        <label>Assignment Group</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Assigned_To__c</fullName>
        <externalId>false</externalId>
        <label>Assigned To</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Case__c</fullName>
        <externalId>false</externalId>
        <label>Case</label>
        <referenceTo>Case</referenceTo>
        <relationshipName>Case_SN_Request</relationshipName>
        <relationshipOrder>0</relationshipOrder>
        <reparentableMasterDetail>false</reparentableMasterDetail>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>MasterDetail</type>
        <writeRequiresMasterRead>false</writeRequiresMasterRead>
    </fields>
    <fields>
        <fullName>Category__c</fullName>
        <externalId>false</externalId>
        <label>REQ Category</label>
        <length>40</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Change_Type__c</fullName>
        <externalId>false</externalId>
        <label>RFC Change Type</label>
        <length>40</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Current_Stage__c</fullName>
        <externalId>false</externalId>
        <label>REQ Current Stage</label>
        <length>40</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Description__c</fullName>
        <externalId>false</externalId>
        <label>Description</label>
        <length>4000</length>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>LongTextArea</type>
        <visibleLines>3</visibleLines>
    </fields>
    <fields>
        <fullName>Emergency_Approved_By__c</fullName>
        <externalId>false</externalId>
        <label>RFC Emergency Approved By</label>
        <length>255</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>External_Comment__c</fullName>
        <externalId>false</externalId>
        <label>External Comment</label>
        <length>4000</length>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>LongTextArea</type>
        <visibleLines>3</visibleLines>
    </fields>
    <fields>
        <fullName>Planned_End__c</fullName>
        <externalId>false</externalId>
        <label>RFC Planned End</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>Planned_Start__c</fullName>
        <externalId>false</externalId>
        <label>RFC Planned Start</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>DateTime</type>
    </fields>
    <fields>
        <fullName>SNOW_URL__c</fullName>
        <externalId>false</externalId>
        <formula>CASE( SN_Type__c, 
&quot;Change Request&quot;, $Setup.ServiceNowIntegration__c.InstanceURL__c &amp; &quot;/nav_to.do?uri=change_request.do?sysparm_query=number=&quot; &amp; SN_Number__c, 
 
&quot;Request&quot;, $Setup.ServiceNowIntegration__c.InstanceURL__c &amp; &quot;/nav_to.do?uri=sc_request.do?sysparm_query=number=&quot; &amp; SN_Number__c,

&quot;Incident&quot;, $Setup.ServiceNowIntegration__c.InstanceURL__c &amp; &quot;/nav_to.do?uri=incident.do?sysparm_query=number=&quot; &amp; SN_Number__c, 

&quot;&quot;)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>SNOW URL</label>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>SN_Number__c</fullName>
        <externalId>false</externalId>
        <label>SNOW Number</label>
        <length>30</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>SN_Type__c</fullName>
        <externalId>false</externalId>
        <label>SNOW RequestType</label>
        <length>100</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>State__c</fullName>
        <externalId>false</externalId>
        <label>State</label>
        <length>40</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Subcategory__c</fullName>
        <externalId>false</externalId>
        <label>REQ Subcategory</label>
        <length>40</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <fields>
        <fullName>Subject__c</fullName>
        <externalId>false</externalId>
        <label>Short Description</label>
        <length>160</length>
        <required>false</required>
        <trackHistory>false</trackHistory>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>false</unique>
    </fields>
    <label>SNOW Request</label>
    <listViews>
        <fullName>All</fullName>
        <columns>NAME</columns>
        <columns>Case__c</columns>
        <columns>SN_Number__c</columns>
        <columns>SN_Type__c</columns>
        <columns>State__c</columns>
        <columns>CREATED_DATE</columns>
        <columns>CREATEDBY_USER</columns>
        <filterScope>Everything</filterScope>
        <label>All</label>
        <language>en_US</language>
    </listViews>
    <listViews>
        <fullName>All1</fullName>
        <filterScope>Everything</filterScope>
        <label>All</label>
    </listViews>
    <nameField>
        <displayFormat>SNR-{00000}</displayFormat>
        <label>Name</label>
        <trackHistory>false</trackHistory>
        <type>AutoNumber</type>
    </nameField>
    <pluralLabel>SNOW Requests</pluralLabel>
    <searchLayouts/>
    <sharingModel>ControlledByParent</sharingModel>
    <visibility>Public</visibility>
    <webLinks>
        <fullName>All_Requests</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>INC Search</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>{!REQUIRESCRIPT(&apos;/soap/ajax/29.0/connection.js&apos;)}

var url = &quot;{!$Setup.ServiceNowIntegration__c.InstanceURL__c}&quot;;

var cldeplQry = &quot;SELECT Cloud_Deployment__c FROM Case WHERE id=&apos;&quot; + &apos;{!Case.Id}&apos; + &quot;&apos;&quot;;
result = sforce.connection.query(cldeplQry);
records = result.getArray(&quot;records&quot;);

if(records[0]) {
var deplId = records[0].Cloud_Deployment__c;
}

if ( ! deplId )
  alert(&apos;Please specify the Cloud Depoyment&apos;);
else {
window.open(url + &quot;/nav_to.do?uri=incident_list.do?sysparm_query=u_customer.u_salesforce_cloud_deployment_id=&quot; + deplId);
}</url>
    </webLinks>
    <webLinks>
        <fullName>Deployment_Info</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Customer Config</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>var url = &quot;/apex/SNOWCldDeplInfo?cs=&quot; + &apos;{!Case.Id}&apos;;
window.open(url,&apos;Deployment Configuration&apos;,&apos;width=800,height=900,top=50,toolbar=no,personalbar=no,location=no,directories=no,statusbar=no,menubar=no,resizable=yes,left=60,screenX=60,top=100,screenY=100,resizable=yes,scrollbars=yes&apos;);</url>
    </webLinks>
    <webLinks>
        <fullName>Link_to_Existing_SN</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Link INC #</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>{!REQUIRESCRIPT(&apos;/soap/ajax/29.0/connection.js&apos;)}

var url = &quot;{!$Setup.ServiceNowIntegration__c.InstanceURL__c}&quot;;

var insRec = [];

var sn = new sforce.SObject(&quot;Case_SN_Request__c&quot;);
sn.Case__c = &apos;{!Case.Id}&apos;;
insRec.push(sn);

var result = sforce.connection.create(insRec);

if ( !result[0].getBoolean( &quot;success&quot; ) ) {
alert ( result[0].errors.message );
}
else {

var recId = result[0].id;
var query = &quot;SELECT Name FROM Case_SN_Request__c WHERE id=&apos;&quot; + recId + &quot;&apos;&quot;;

result = sforce.connection.query(query);
records = result.getArray(&quot;records&quot;);

var recName = &quot;&quot;;
if(records[0]) {
recName = records[0].Name;
}

var endpoint = url+ &quot;/com.glideapp.servicecatalog_cat_item_view.do?v=1&quot;;

endpoint += &quot;&amp;sysparm_id=2e0ed17d4f2b8f485b33b3318110c775&quot;;
endpoint += &quot;&amp;salesforce_id=&quot; + recId;
endpoint += &quot;&amp;salesforce_case=&quot; + recName;

window.open(encodeURI(endpoint), target=&quot;_blank&quot;);
}</url>
    </webLinks>
    <webLinks>
        <fullName>New</fullName>
        <availability>online</availability>
        <description>Custom New button to per-populate fields</description>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>Create New SNOW Request</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>{!REQUIRESCRIPT(&apos;/soap/ajax/29.0/connection.js&apos;)}

var insRec = [];

var ji = new sforce.SObject(&quot;Case_SN_Request__c&quot;);
ji.Case__c = &apos;{!Case.Id}&apos;;
ji.Subject__c = &apos;Case &apos; + &apos;{!Case.CaseNumber}&apos; + &apos;:  &apos; + &apos;{!JSENCODE(Case.Subject)}&apos;;
ji.Description__c = &apos;{!JSENCODE(Case.Description)}&apos;;
insRec.push(ji);

var result = sforce.connection.create(insRec);
if ( !result[0].getBoolean( &quot;success&quot; ) ) {
alert ( result[0].errors.message );
}
else {
var recid = result[0].id;
window.parent.location.href=&apos;/&apos; + recid;
}</url>
    </webLinks>
    <webLinks>
        <fullName>New_INC</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>New INC</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&apos;/soap/ajax/29.0/connection.js&apos;)}

var url = &quot;{!$Setup.ServiceNowIntegration__c.InstanceURL__c}&quot;;

var cldeplQry = &quot;SELECT Case__r.Cloud_Deployment__c FROM Case_SN_Request__c WHERE id=&apos;&quot; + &apos;{!Case_SN_Request__c.Id}&apos; + &quot;&apos;&quot;;
result = sforce.connection.query(cldeplQry);
records = result.getArray(&quot;records&quot;);

var deplId = &apos;&apos;;
if(records[0]) {
  deplId = records[0].Case__r.Cloud_Deployment__c;
}

var endpoint = url+ &quot;/com.glideapp.servicecatalog_cat_item_view.do?&quot;;

endpoint += &quot;sysparm_id=bdc3710a4f1fc308f90f01b28110c737&quot;;
endpoint += &quot;&amp;sysparm_category=Support &amp; Maint Services&quot;;
endpoint += &quot;&amp;sysparm_sfdc_id=&quot; + &apos;{!Case_SN_Request__c.Id}&apos;;
endpoint += &quot;&amp;sysparm_customer=&quot; + deplId;
endpoint += &quot;&amp;sysparm_description=&quot; + &apos;{!Case_SN_Request__c.Subject__c}&apos;;

window.open(encodeURI(endpoint), target=&quot;_blank&quot;);</url>
    </webLinks>
    <webLinks>
        <fullName>New_INC_OneClick</fullName>
        <availability>online</availability>
        <description>list button. One click</description>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>New INC</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>{!REQUIRESCRIPT(&apos;/soap/ajax/29.0/connection.js&apos;)}

var url = &quot;{!$Setup.ServiceNowIntegration__c.InstanceURL__c}&quot;;

var cldeplQry = &quot;SELECT Cloud_Deployment__c, Subject, CaseNumber FROM Case WHERE id=&apos;&quot; + &apos;{!Case.Id}&apos; + &quot;&apos;&quot;;

result = sforce.connection.query(cldeplQry);
records = result.getArray(&quot;records&quot;);

var deplId = &quot;&quot;;
var subj = &quot;&quot;;
var caseNum = &quot;&quot;;

if(records[0]) {
deplId = records[0].Cloud_Deployment__c;
subj = records[0].Subject;
caseNum = records[0].CaseNumber;
}

var insRec = [];

var sn = new sforce.SObject(&quot;Case_SN_Request__c&quot;);
sn.Case__c = &apos;{!Case.Id}&apos;;
insRec.push(sn);

var result = sforce.connection.create(insRec);

if ( !result[0].getBoolean( &quot;success&quot; ) ) {
alert ( result[0].errors.message );
}
else { 

var recId = result[0].id;
var snqry = &quot;SELECT Name FROM Case_SN_Request__c WHERE id=&apos;&quot; + recId + &quot;&apos;&quot;;

result = sforce.connection.query(snqry);
records = result.getArray(&quot;records&quot;);

var recName = &quot;&quot;;
if(records[0]) {
recName = records[0].Name;
} 

var endpoint = url+ &quot;/com.glideapp.servicecatalog_cat_item_view.do?&quot;;

endpoint += &quot;sysparm_id=bdc3710a4f1fc308f90f01b28110c737&quot;;
endpoint += &quot;&amp;sysparm_category=Support &amp; Maint Services&quot;;
endpoint += &quot;&amp;sysparm_sfdc_id=&quot; + recId;
endpoint += &quot;&amp;sysparm_customer=&quot; + deplId;
endpoint += &quot;&amp;sysparm_sfdc_case=&quot; + caseNum;
endpoint += &quot;&amp;sysparm_sfdc_external_ticket=&quot; + recName;
endpoint += &quot;&amp;sysparm_description=Case: &quot; + caseNum + &quot; &quot; + escape(subj);

window.open(encodeURI(endpoint), target=&quot;_blank&quot;);
}</url>
    </webLinks>
    <webLinks>
        <fullName>New_REQ</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>New REQ</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&apos;/soap/ajax/29.0/connection.js&apos;)}

var url = &quot;{!$Setup.ServiceNowIntegration__c.InstanceURL__c}&quot;;

var cldeplQry = &quot;SELECT Case__r.Cloud_Deployment__c FROM Case_SN_Request__c WHERE id=&apos;&quot; + &apos;{!Case_SN_Request__c.Id}&apos; + &quot;&apos;&quot;;

result = sforce.connection.query(cldeplQry);
records = result.getArray(&quot;records&quot;);

var deplId = &apos;&apos;;
if(records[0]) {
  deplId = records[0].Case__r.Cloud_Deployment__c;
}

var endpoint = url+ &quot;/com.glideapp.servicecatalog_cat_item_view.do?&quot;;

endpoint += &quot;sysparm_id=9706bd0a4f1fc308f90f01b28110c7b0&quot;;
endpoint += &quot;&amp;sysparm_category=CaaS Service Requests (REQs)&quot;;
endpoint += &quot;&amp;sysparm_sfdc_id=&quot; + &apos;{!Case_SN_Request__c.Id}&apos;;
endpoint += &quot;&amp;sysparm_customer=&quot; + deplId;
endpoint += &quot;&amp;sysparm_description=&quot; + &apos;{!Case_SN_Request__c.Subject__c}&apos;;

window.open(encodeURI(endpoint), target=&quot;_blank&quot;);</url>
    </webLinks>
    <webLinks>
        <fullName>New_REQ_OneClick</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>New REQ</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>{!REQUIRESCRIPT(&apos;/soap/ajax/29.0/connection.js&apos;)}

var url = &quot;{!$Setup.ServiceNowIntegration__c.InstanceURL__c}&quot;;

var cldeplQry = &quot;SELECT Cloud_Deployment__c, Subject, CaseNumber FROM Case WHERE id=&apos;&quot; + &apos;{!Case.Id}&apos; + &quot;&apos;&quot;;

result = sforce.connection.query(cldeplQry);
records = result.getArray(&quot;records&quot;);

var deplId = &quot;&quot;;
var subj = &quot;&quot;;
var caseNum = &quot;&quot;;

if(records[0]) {
deplId = records[0].Cloud_Deployment__c;
subj = records[0].Subject;
caseNum = records[0].CaseNumber;
}

var insRec = [];

var sn = new sforce.SObject(&quot;Case_SN_Request__c&quot;);
sn.Case__c = &apos;{!Case.Id}&apos;;
insRec.push(sn);

var result = sforce.connection.create(insRec);

if ( !result[0].getBoolean( &quot;success&quot; ) ) {
alert ( result[0].errors.message );
}
else { 

var recId = result[0].id;
var snqry = &quot;SELECT Name FROM Case_SN_Request__c WHERE id=&apos;&quot; + recId + &quot;&apos;&quot;;

result = sforce.connection.query(snqry);
records = result.getArray(&quot;records&quot;);

var recName = &quot;&quot;;
if(records[0]) {
recName = records[0].Name;
} 

var endpoint = url+ &quot;/com.glideapp.servicecatalog_cat_item_view.do?&quot;;

endpoint += &quot;sysparm_id=9706bd0a4f1fc308f90f01b28110c7b0&quot;;
endpoint += &quot;&amp;sysparm_category=CaaS Service Requests (REQs)&quot;; 
endpoint += &quot;&amp;sysparm_sfdc_id=&quot; + recId;
endpoint += &quot;&amp;sysparm_customer=&quot; + deplId;
endpoint += &quot;&amp;sysparm_sfdc_case=&quot; + caseNum;
endpoint += &quot;&amp;sysparm_sfdc_external_ticket=&quot; + recName;
endpoint += &quot;&amp;sysparm_description=Case: &quot; + caseNum + &quot; &quot; + escape(subj);

window.open(encodeURI(endpoint), target=&quot;_blank&quot;);
}</url>
    </webLinks>
    <webLinks>
        <fullName>New_RFC</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>New RFC</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&apos;/soap/ajax/29.0/connection.js&apos;)}

var url = &quot;{!$Setup.ServiceNowIntegration__c.InstanceURL__c}&quot;;

var cldeplQry = &quot;SELECT Case__r.Cloud_Deployment__c FROM Case_SN_Request__c WHERE id=&apos;&quot; + &apos;{!Case_SN_Request__c.Id}&apos; + &quot;&apos;&quot;;
result = sforce.connection.query(cldeplQry);
records = result.getArray(&quot;records&quot;);

var deplId = &apos;&apos;;
if(records[0]) {
  deplId = records[0].Case__r.Cloud_Deployment__c;
}

var endpoint = url+ &quot;/com.glideapp.servicecatalog_cat_item_view.do?&quot;;

endpoint += &quot;sysparm_id=04aab98a4f1fc308f90f01b28110c751&quot;;
endpoint += &quot;&amp;sysparm_category=Support&quot;;
endpoint += &quot;&amp;sysparm_sfdc_id=&quot; + &apos;{!Case_SN_Request__c.Id}&apos;;
endpoint += &quot;&amp;sysparm_customer=&quot; + deplId;
endpoint += &quot;&amp;sysparm_description=&quot; + &apos;{!Case_SN_Request__c.Subject__c}&apos;;

window.open(encodeURI(endpoint), target=&quot;_blank&quot;);</url>
    </webLinks>
    <webLinks>
        <fullName>New_RFC_OneClick</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>New RFC</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>{!REQUIRESCRIPT(&apos;/soap/ajax/29.0/connection.js&apos;)}

var url = &quot;{!$Setup.ServiceNowIntegration__c.InstanceURL__c}&quot;;

var cldeplQry = &quot;SELECT Cloud_Deployment__c, Subject, CaseNumber FROM Case WHERE id=&apos;&quot; + &apos;{!Case.Id}&apos; + &quot;&apos;&quot;;

result = sforce.connection.query(cldeplQry);
records = result.getArray(&quot;records&quot;);

var deplId = &quot;&quot;;
var subj = &quot;&quot;;
var caseNum = &quot;&quot;;

if(records[0]) {
deplId = records[0].Cloud_Deployment__c;
subj = records[0].Subject;
caseNum = records[0].CaseNumber;
}

var insRec = [];

var sn = new sforce.SObject(&quot;Case_SN_Request__c&quot;);
sn.Case__c = &apos;{!Case.Id}&apos;;
insRec.push(sn);

var result = sforce.connection.create(insRec);

if ( !result[0].getBoolean( &quot;success&quot; ) ) {
alert ( result[0].errors.message );
}
else { 

var recId = result[0].id;
var snqry = &quot;SELECT Name FROM Case_SN_Request__c WHERE id=&apos;&quot; + recId + &quot;&apos;&quot;;

result = sforce.connection.query(snqry);
records = result.getArray(&quot;records&quot;);

var recName = &quot;&quot;;
if(records[0]) {
recName = records[0].Name;
} 

var endpoint = url+ &quot;/com.glideapp.servicecatalog_cat_item_view.do?&quot;;

endpoint += &quot;sysparm_id=04aab98a4f1fc308f90f01b28110c751&quot;;
endpoint += &quot;&amp;sysparm_category=Support&quot;; 
endpoint += &quot;&amp;sysparm_sfdc_id=&quot; + recId;
endpoint += &quot;&amp;sysparm_customer=&quot; + deplId;
endpoint += &quot;&amp;sysparm_sfdc_case=&quot; + caseNum;
endpoint += &quot;&amp;sysparm_sfdc_external_ticket=&quot; + recName;
endpoint += &quot;&amp;sysparm_description=Case: &quot; + caseNum + &quot; &quot; + escape(subj);

window.open(encodeURI(endpoint), target=&quot;_blank&quot;);
}</url>
    </webLinks>
    <webLinks>
        <fullName>New_TSRA</fullName>
        <availability>online</availability>
        <displayType>button</displayType>
        <linkType>javascript</linkType>
        <masterLabel>New TSRA</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <url>{!REQUIRESCRIPT(&apos;/soap/ajax/29.0/connection.js&apos;)}

var url = &quot;{!$Setup.ServiceNowIntegration__c.InstanceURL__c}&quot;;

var cldeplQry = &quot;SELECT Case__r.Cloud_Deployment__c FROM Case_SN_Request__c WHERE id=&apos;&quot; + &apos;{!Case_SN_Request__c.Id}&apos; + &quot;&apos;&quot;;

result = sforce.connection.query(cldeplQry);
records = result.getArray(&quot;records&quot;);

var deplId = &apos;&apos;;
if(records[0]) {
  deplId = records[0].Case__r.Cloud_Deployment__c;
}

var endpoint = url+ &quot;/com.glideapp.servicecatalog_cat_item_view.do?&quot;;

endpoint += &quot;sysparm_id=6ce3390a4f1fc308f90f01b28110c70b&quot;;
endpoint += &quot;&amp;sysparm_category=Support &amp; Maint Services&quot;;
endpoint += &quot;&amp;sysparm_sfdc_id=&quot; + &apos;{!Case_SN_Request__c.Id}&apos;;
endpoint += &quot;&amp;sysparm_customer=&quot; + deplId;
endpoint += &quot;&amp;sysparm_description=&quot; + &apos;{!Case_SN_Request__c.Subject__c}&apos;;

window.open(encodeURI(endpoint), target=&quot;_blank&quot;);</url>
    </webLinks>
    <webLinks>
        <fullName>New_TSRA_OneClick</fullName>
        <availability>online</availability>
        <displayType>massActionButton</displayType>
        <linkType>javascript</linkType>
        <masterLabel>New TSRA</masterLabel>
        <openType>onClickJavaScript</openType>
        <protected>false</protected>
        <requireRowSelection>false</requireRowSelection>
        <url>{!REQUIRESCRIPT(&apos;/soap/ajax/29.0/connection.js&apos;)}

var url = &quot;{!$Setup.ServiceNowIntegration__c.InstanceURL__c}&quot;;

var cldeplQry = &quot;SELECT Cloud_Deployment__c, Subject, CaseNumber FROM Case WHERE id=&apos;&quot; + &apos;{!Case.Id}&apos; + &quot;&apos;&quot;;

result = sforce.connection.query(cldeplQry);
records = result.getArray(&quot;records&quot;);

var deplId = &quot;&quot;;
var subj = &quot;&quot;;
var caseNum = &quot;&quot;;

if(records[0]) {
deplId = records[0].Cloud_Deployment__c;
subj = records[0].Subject;
caseNum = records[0].CaseNumber;
}

var insRec = [];

var sn = new sforce.SObject(&quot;Case_SN_Request__c&quot;);
sn.Case__c = &apos;{!Case.Id}&apos;;
insRec.push(sn);

var result = sforce.connection.create(insRec);

if ( !result[0].getBoolean( &quot;success&quot; ) ) {
alert ( result[0].errors.message );
}
else { 

var recId = result[0].id;
var snqry = &quot;SELECT Name FROM Case_SN_Request__c WHERE id=&apos;&quot; + recId + &quot;&apos;&quot;;

result = sforce.connection.query(snqry);
records = result.getArray(&quot;records&quot;);

var recName = &quot;&quot;;
if(records[0]) {
recName = records[0].Name;
} 

var endpoint = url+ &quot;/com.glideapp.servicecatalog_cat_item_view.do?&quot;;

endpoint += &quot;sysparm_id=6ce3390a4f1fc308f90f01b28110c70b&quot;;
endpoint += &quot;&amp;sysparm_category=Support &amp; Maint Services&quot;; 
endpoint += &quot;&amp;sysparm_sfdc_id=&quot; + recId;
endpoint += &quot;&amp;sysparm_customer=&quot; + deplId;
endpoint += &quot;&amp;sysparm_sfdc_case=&quot; + caseNum;
endpoint += &quot;&amp;sysparm_sfdc_external_ticket=&quot; + recName;
endpoint += &quot;&amp;sysparm_description=Case: &quot; + caseNum + &quot; &quot; + escape(subj);

window.open(encodeURI(endpoint), target=&quot;_blank&quot;);
}</url>
    </webLinks>
</CustomObject>
