<apex:page id="pg"  extensions="ServiceOrderQuoteToolController" title="Service Order Quote Tool" sidebar="false" standardController="BigMachines__Quote__c"  >
   <style type="text/css">
      .custPopup{
      background-color: white;
      border-width: 2px;
      border-style: solid;
      z-index: 9999;
      left: 50%;
      padding:10px;
      position: absolute;
      width: 500px;
      margin-left: -250px;
      top:100px;
      }
      .popupBackground{
      background-color:black;
      opacity: 0.20;
      filter: alpha(opacity = 20);
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: 9998;
      }       
      .tableRow{
      font-size:9pt;
      } 
      .activeRow{
      background-color:#FAF4A0;
      font-weight:bold;
      }
      .totalRow{
      font-weight:bold;
      }
      .errorRow{
      background-color:#FF9999;
      }
      .disabled{
      background-color:#F8F9F8;
      }
   </style>
   <script>
      function modalWin(productId, discount) {            
          if (window.showModalDialog) {               
              window.showModalDialog('/apex/SOQuoteTool_TbPopup?id='+ productId + '&discount=' + discount,'name','dialogWidth:500px;dialogHeight:350px');
          } else {
              var left = (screen.width / 2) - 250;
              var top = (screen.height / 2) - 175;                
              window.open('/apex/SOQuoteTool_TbPopup?id='+ productId + '&discount=' + discount,'name','height=350,width=500,toolbar=no,directories=no,status=no,menubar=no,scrollbars=no,resizable=no,modal=yes,left='+left+',top='+top);
          }
      }
   </script>
   <apex:outputPanel id="jsPanel">
      <script>
         function doCalculationJS(index, sectionType){
             var calculationFlag = '{!quote.Run_Time_Calculations__c}';
             if(calculationFlag == 'true'){                  
                 if(sectionType == 'IVR and Media Port Options'){
                     doCalculationIVRMPO(index, sectionType);
                 }                                 
             }                           
         }
         function scrollToTop(){             
             if('{!isErrorMsg}' == 'true')
                 window.scrollTo(500,0);
             var iframe = document.getElementById('ifUpfront');
             iframe.src = iframe.src;
         }
      </script>
   </apex:outputPanel>
   <apex:form id="frm">
      <apex:actionFunction name="synchAndGoToDQAF" action="{!synchAndGoToDQ}" reRender="pnlDQJS" onComplete="goToDQ(); return false;" status="status"/>
      <apex:actionFunction name="synchAndGoAndReviseDQAF" action="{!synchAndGoToDQ}" reRender="pnlDQJS" onComplete="goToDQAndRevise(); return false;" status="status"/>
      <apex:actionFunction name="getDQStatusAF" action="{!getDQStatus}" reRender="pnlDQJS" onComplete="confirmDQRevise(); return false;" status="status"/>
      <apex:actionFunction name="showReviseVisibilityAF" action="{!showReviseVisibility}" reRender="revisePopup" status="status" />
      <apex:actionFunction name="hideReviseVisibilityAF" action="{!hideReviseVisibility}" reRender="revisePopup" status="status" />
      
      <apex:outputPanel layout="none" rendered="{!NOT(blnIsHybridCustomer)}">
         <apex:actionFunction name="doCalculationASRandTTS" action="{!doCalculation}" reRender="pgblkASRandTTS" status="statusASRandTTS">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationIVRMPO" action="{!doCalculation}" reRender="pgblkIVRAndMediaPortOptions" status="statusIVRMPO">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationIVRAndMediaPortAddOns" action="{!doCalculation}" reRender="pgblkIVRAndMediaPortAddOns" status="statusIVRAndMediaPortAddOns">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationBotsAIOptions" action="{!doCalculation}" reRender="pgblkBotsAIOptions" status="statusBotsAIOptions">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationPerSeatPricingBase" action="{!doCalculation}" reRender="pgblkPerSeatPricingBase" status="statusPerSeatPricingBase">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationDigitalChannelOptions" action="{!doCalculation}" reRender="pgblkDigitalChannelOptions" status="statusDigitalChannelOptions">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationQualityManagement" action="{!doCalculation}" reRender="pgblkQualityManagement" status="statusQualityManagement">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationWorkforceOptimization" action="{!doCalculation}" reRender="pgblkWorkforceOptimization" status="statusWorkforceOptimization">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationOtherServices" action="{!doCalculation}" reRender="pgblkOtherServices" status="statusOtherServices">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationInboundSeatAddOns" action="{!doCalculation}" reRender="pgblkInboundSeatAddOns" status="statusInboundSeatAddOns">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationEndUserEndPoints" action="{!doCalculation}" reRender="pgblkEndUserEndPoints" status="statusEndUserEndPoints">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationCloudContactCenterAdapters" action="{!doCalculation}" reRender="pgblkCloudContactCenterAdapters" status="statusCloudContactCenterAdapters">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationTelcoITI" action="{!doCalculation}" reRender="pgblkTelcoITI" status="statusTelcoITI">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationTelcoBLT" action="{!doCalculation}" reRender="pgblkTelcoBLT" status="statusTelcoBLT">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationTelcoOP" action="{!doCalculation}" reRender="pgblkTelcoOP" status="statusTelcoOP">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationTelcoMPLS" action="{!doCalculation}" reRender="pgblkTelcoMPLS" status="statusTelcoMPLS">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationGenesysCare" action="{!doCalculation}" reRender="pgblkGenesysCare" status="statusGenesysCare">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationTelcoCrossConnect" action="{!doCalculation}" reRender="pgblkTelcoCrossConnect" status="statusTelcoCrossConnect">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationPureSuccessBase" action="{!doCalculation}" reRender="pgblkPureSuccessbase" status="statusPureSuccessBase">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationPureSuccessAlaCarte" action="{!doCalculation}" reRender="pgblkPureSuccessAlaCarte" status="statusPureSuccessAlaCarte">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationPSRapidDevelopmentImplementationPackage" action="{!doCalculation}" reRender="pgblkPSRapidDevelopmentImplementationPackage" status="statusPSRapidDevelopmentImplementationPackage">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationPSImplementation" action="{!doCalculation}" reRender="pgblkPSImplementation" status="statusPSImplementation">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationOnPeriodChange" action="{!doCalculationOnPeriodChange}" reRender="pgblkUsageFee,pgblkRecFee,pgblkNonRecCharges" status="status" />
         <apex:actionFunction name="addRowIVRAndMediaPortOptions" action="{!addMoreProduct}" reRender="pgblkIVRAndMediaPortOptions" status="statusIVRMPO">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="doCalculationInstallationCharges" action="{!doCalculation}" reRender="pgblkInstallationCharges" status="statusInstallationCharges">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <!-- Add Row Action Functions -->
         <apex:actionFunction name="addRowASRandTTS" action="{!addMoreProduct}" reRender="pgblkASRandTTS" status="statusASRandTTS">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowIVRAndMediaPortAddOns" action="{!addMoreProduct}" reRender="pgblkIVRAndMediaPortAddOns" status="statusIVRAndMediaPortAddOns">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowBotsAIOptions" action="{!addMoreProduct}" reRender="pgblkBotsAIOptions" status="statusBotsAIOptions">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowPerSeatPricingBase" action="{!addMoreProduct}" reRender="pgblkPerSeatPricingBase" status="statusPerSeatPricingBase">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowDigitalChannelOptions" action="{!addMoreProduct}" reRender="pgblkDigitalChannelOptions" status="statusDigitalChannelOptions">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowQualityManagement" action="{!addMoreProduct}" reRender="pgblkQualityManagement" status="statusQualityManagement">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowWorkforceOptimization" action="{!addMoreProduct}" reRender="pgblkWorkforceOptimization" status="statusWorkforceOptimization">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowOtherServices" action="{!addMoreProduct}" reRender="pgblkOtherServices" status="statusOtherServices">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowEndUserEndPoints" action="{!addMoreProduct}" reRender="pgblkEndUserEndPoints" status="statusEndUserEndPoints">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowCloudContactCenterAdapters" action="{!addMoreProduct}" reRender="pgblkCloudContactCenterAdapters" status="statusCloudContactCenterAdapters">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowTelcoITI" action="{!addMoreProduct}" reRender="pgblkTelcoITI" status="statusTelcoITI">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowTelcoBLT" action="{!addMoreProduct}" reRender="pgblkTelcoBLT" status="statusTelcoBLT">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowTelcoOP" action="{!addMoreProduct}" reRender="pgblkTelcoOP" status="statusTelcoOP">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowGenesysCare" action="{!addMoreProduct}" reRender="pgblkGenesysCare" status="statusGenesysCare">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowTelcoMPLS" action="{!addMoreProduct}" reRender="pgblkTelcoMPLS" status="statusTelcoMPLS">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowTelcoCrossConnect" action="{!addMoreProduct}" reRender="pgblkTelcoCrossConnect" status="statusTelcoCrossConnect">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowPSRapidDevelopmentImplementationPackage" action="{!addMoreProduct}" reRender="pgblkPSRapidDevelopmentImplementationPackage" status="statusPSRapidDevelopmentImplementationPackage">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowPSImplementation" action="{!addMoreProduct}" reRender="pgblkPSImplementation" status="statusPSImplementation">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
         <apex:actionFunction name="addRowInstallationCharges" action="{!addMoreProduct}" reRender="pgblkInstallationCharges" status="statusInstallationCharges">
            <apex:param value="" name="index" assignTo="{!index}" />
            <apex:param value="" name="sectionType" assignTo="{!sectionType}" />
         </apex:actionFunction>
      </apex:outputPanel>
      <apex:actionFunction name="saveAJAX" action="{!save}" reRender="DDS,DDSScore,pgblkUsageFee,pgblkRecFee,pgblkNonRecCharges,pgMsg,jsPanel,quoteInfo,pnlViolations" status="status" onComplete="scrollToTop(); return false;"/>
      <apex:outputPanel id="pgMsg">
         <apex:pagemessages />
      </apex:outputPanel>
      <apex:pageBlock title="Business/Enterprise Edition" id="pgblk">
         <apex:pageBlockButtons location="top">
            <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved', quote.id == '')}"/>
            <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.BigMachines__Status__c != 'Order Submitted',quote.id != '')}"/>
            <apex:commandButton value="Clone" action="{!cloneQuote}" status="status" rendered="{!quote.id != ''}"/>
            <apex:commandButton value="Revise" action="{!recall}" status="status" disabled="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Rejected', 
               quote.BigMachines__Status__c != 'Quote Approved')}"/>
            <!-- <apex:commandButton value="By-pass Approvals" action="{!byPassApprovals}" rendered="{!quote.BigMachines__Status__c != 'Quote Approved'}"/> -->
            <apex:commandButton value="Return to Opportunity" onclick="location.href = '/{!oppId}'; return false;" />
            <apex:commandButton value="Submit For Approval" rendered="{!OR(quote.BigMachines__Status__c == 'Quote In Progress', quote.BigMachines__Status__c == 'Revision Pending')}" action="{!submitForApproval}" />
            <apex:commandButton value="Submit Order" rendered="{!quote.BigMachines__Status__c == 'Quote Approved'}" action="{!submitOrderBtnHandler}" />
            <apex:commandButton value="Send Contract" action="{!viewContract}" oncomplete="window.open('/apex/loop__looplus?sessionId={!$Api.Session_ID}&eid={!quote.Id}&contactid={!quote.Contact__c}&accountid={!quote.End_User_ID__c}&opportunityid={!quote.BigMachines__Opportunity__c}&filter=ServiceOrder&filtertype=equals');"
               rendered="{!(quote.BigMachines__Status__c == 'Quote Approved' || quote.BigMachines__Status__c == 'Order Submitted')}" />
            <!--<apex:commandButton value="Send Contract" action="{!viewContract}" rendered="{!(quote.BigMachines__Status__c == 'Quote Approved' || quote.BigMachines__Status__c == 'Order Submitted')}"/>-->
            <apex:commandButton value="Calculate Deal Score" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.BigMachines__Status__c != 'Order Submitted',quote.id != '')}"/>
         </apex:pageBlockButtons>
         <apex:outputPanel id="pnlViolations">
            <apex:outputPanel rendered="{!hasViolations && list_Violations != null}">
               <div style="background-color:#c00;padding-left:5px;">
                  <apex:pageBlock title="Deal Qualification Validation" >
                     <apex:pageBlockButtons id="buttons" location="top">
                        <apex:commandButton value="Go To Deal Qualification" onclick="getDQStatusAF(); return false;" />
                        Click on this button to go to/revise your Deal Qualification criteria on your Opportunity.
                     </apex:pageBlockButtons>
                     <b>
                        <apex:outputLabel value="This is to highlight the differences between the Quote and the Approved Criteria." />
                     </b>
                     <br/>
                     <apex:pageBlockTable value="{!list_Violations}" var="eachViolation">
                        <apex:column headerValue="Difference Type">
                           {!eachViolation.approvalName}
                        </apex:column>
                        <apex:column headerValue="Value On Quote">
                           {!eachViolation.fieldValueOnQuote}
                        </apex:column>
                        <apex:column headerValue="Approved limits in Deal Qualification">
                           {!eachViolation.fieldValueApproved}
                        </apex:column>
                        <apex:column headerValue="Description" >
                           {!eachViolation.Description}
                        </apex:column>
                     </apex:pageBlockTable>
                  </apex:pageBlock>
               </div>
            </apex:outputPanel>
         </apex:outputPanel>
         <apex:tabPanel switchType="client" selectedTab="quoteTab" id="theTabPanel">
            <apex:tab label="Quote" name="quoteTab" id="quoteTab">
               <apex:pageBlockSection id="quoteInfo">
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Quote Number" for="quoteNumber" />
                     <apex:outputLink id="quoteNumber" value="/{!quote.id}" target="_blank"> {!quote.Quote_Number__c} </apex:outputLink>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Deal Qualification Status" />
                     <apex:outputLink value="#" target="_blank" onclick="openDQ(); return false;"> <b>{!dqStatus}</b> </apex:outputLink>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Opportunity" for="linkOpp" />
                     <apex:outputLink id="linkOpp" value="/{!quote.BigMachines__Opportunity__c}" target="_blank"> {!quote.BigMachines__Opportunity__r.Name}                              
                     </apex:outputLink>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="End User" for="linkEndUser" />
                     <apex:outputLink id="linkEndUser" value="/{!quote.End_User_ID__c}" target="_blank"> {!quote.End_User_ID__r.Name}                                
                     </apex:outputLink>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Sold To" for="linkST" />
                     <apex:outputLink id="linkST" value="/{!quote.Sold_To_Name__c}" target="_blank"> {!quote.Sold_To_Name__r.Name}                               
                     </apex:outputLink>
                  </apex:pageBlockSectionItem>
                  <apex:repeat value="{!$ObjectType.BigMachines__Quote__c.FieldSets.Service_order_quote_header_fields}" var="f">
                     <apex:inputField value="{!quote[f]}" rendered="{!AND(f.label == 'Minimum (Fees) Period', opp.Lines_of_Businesses__c  != 'Premier Edition Cloud', opp.Lines_of_Businesses__c != 'Self Service')}" />
                     <apex:outputField value="{!quote[f]}" rendered="{!AND((f.label == 'Minimum (Fees) Period'), OR(opp.Lines_of_Businesses__c  == 'Premier Edition Cloud', opp.Lines_of_Businesses__c == 'Self Service'))}" />
                     <apex:inputField value="{!quote[f]}" rendered="{!AND(f.required, f.label != 'Quote Number', f.label != 'Minimum (Fees) Period')}" />
                     <apex:outputField value="{!quote[f]}" rendered="{!AND(NOT(f.required), f.label != 'Quote Number', f.label != 'Minimum (Fees) Period')}" />
                  </apex:repeat>
                  <apex:inputField value="{!quote.Treat_SO_as_PO__c}"/>
                  
                  <apex:inputField value="{!quote.Require_Contractual_Discount__c}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.BigMachines__Status__c != 'Order Submitted',quote.id != '')}">
                     <apex:actionSupport event="onclick" action="{!refreshContractDiscount}" rerender="quoteInfo" status="status"/>
                  </apex:inputField>
                  <apex:inputField value="{!quote.Customer_Contractual_Rate__c}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.BigMachines__Status__c != 'Order Submitted',quote.id != '',quote.Require_Contractual_Discount__c)}" />
                  <apex:outputField value="{!quote.Customer_Contractual_Rate__c}" rendered="{!OR(quote.BigMachines__Status__c == 'Quote Approval Pending',quote.BigMachines__Status__c == 'Quote Approved',quote.BigMachines__Status__c == 'Order Submitted') &&quote.Require_Contractual_Discount__c &&quote.id != '' }"/>
               </apex:pageBlockSection>
               <!--Added for DDS Calculation by Anto Starts-->
               <apex:pageBlockSection id="DDS" title="DDS Information" collapsible="true" rendered="{!$Permission.DDS_Cloud_Information_Visible}">
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Deal Size" />
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Deal_Size__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Raw Score Discount"/>
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Raw_Score_Discount__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Deal Score Raw Score"/>
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Raw_Score__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Partner Discount"/>
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Partner_Discount__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Deal Registration Discount"/>
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Deal_Registration_Discount__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Customer Discount"/>
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Customer_Discount__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Consolidated Contractual Discount"/>
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Consolidated_Contractual_Discount__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Deal Score After Contractual Discount Adjustment"/>
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Deal_Score_After_Contractual_Discount__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Third Party Discount" />
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Third_Party_Discount__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Third Party Discount Impact" />
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Third_Party_Discount_Impact__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Hardware Discount" />
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Hardware_Discount__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Hardware Discount Impact" />
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Hardware_Discount_Impact__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Max License Discount" />
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Max_License_Discount__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Max License Discount Impact" />
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Max_License_Discount_Impact__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="PS Discount" />
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.PS_Discount__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="PS Discount Impact"/>
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.PS_Discount_Impact__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:inputhidden />
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Total Impact"/>
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Total_Impact__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:inputhidden />
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Deal Score After Overall Adjustment"/>
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Deal_Score_After_Overall_Adjustment__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
               </apex:pageBlockSection>
               <apex:pageBlockSection id="DDSScore" title="DDS">
                  <!--Mukunth modified rendered condition for Mega Deal check for DDS-->
                  <apex:outputText value="{!quote.Deal_Score__c}"  style="width:50px;font-size: 24px;color:white;font-weight:bold;background:{!case(quote.Deal_Score__c ,5,'green',4,'green',3, 'orange',2,'red','red')};" rendered="{!quote.Deal_Score__c != null && NOT(isMegaDealBln)}">
                  </apex:outputText>
                  <!--Mukunth modified rendered condition for Mega Deal check for DDS-->
                  <apex:pageBlockSectionItem rendered="{!quote.Deal_Score__c == null && objDDSHistory.Deal_Size__c != null && objDDSHistory.Deal_Size__c != 0 && NOT(isMegaDealBln)}">
                     <apex:outputLabel value="Deal Score"/>
                     <apex:outputText value="0"  style="width:50px;font-size:24px;color:white;font-weight:bold;background:red">
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem rendered="{!quote.Deal_Score__c == null && (objDDSHistory.Deal_Size__c == null  || objDDSHistory.Deal_Size__c == 0)}">
                     <apex:outputLabel value="Deal Score"/>
                     <apex:outputText value="">
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                    <!--Mukunth modified Mega Deal check for DDS-->
                    <apex:pageBlockSectionItem rendered="{!isMegaDealBln}">
                    <apex:pageMessage summary="{!$Label.DDS_Mega_Deal_Message}" severity="Info" strength="3" />
                    </apex:pageBlockSectionItem>
                    <apex:pageBlockSectionItem rendered="{!isMegaDealBln}">
                    </apex:pageBlockSectionItem>
                    <!-- Mukunth code end-->
                    <!--Mukunth modified rendered condition on below pagemessages-->
                  <apex:pageMessage summary="Congratulations! This deal ranks amongst the top in its peer group." severity="Info" strength="3"  rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.BigMachines__Status__c != 'Order Submitted',quote.id != '',quote.Deal_Score__c = 5,NOT(isMegaDealBln))}"/>
                  <apex:pageMessage summary="This deal scores 4, which is an above average score. Nice work!" severity="Info" strength="3" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.BigMachines__Status__c != 'Order Submitted',quote.id != '',quote.Deal_Score__c = 4,NOT(isMegaDealBln))}" />
                  <apex:pageMessage summary="This deal has earned a score of 3.  This is a good score but continue to evaluate the deal to see if it can be improved." severity="Info" strength="3" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.BigMachines__Status__c != 'Order Submitted',quote.id != '',quote.Deal_Score__c = 3,NOT(isMegaDealBln))}" />
                  <apex:pageMessage summary="Based on a combination of factors this deal only earns a score of 2.  Please review the deal to determine ways to improve the score." severity="Info" strength="3" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.BigMachines__Status__c != 'Order Submitted',quote.id != '',quote.Deal_Score__c = 2,NOT(isMegaDealBln))}" />
                  <apex:pageMessage summary="Based on a combination of factors this deal only earns a score of 1, which indicates it is not a good deal compared to its peers.  Please review the deal to determine if a score improvement is possible." severity="Info" strength="3" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.BigMachines__Status__c != 'Order Submitted',quote.id != '',quote.Deal_Score__c = 1,NOT(isMegaDealBln))}"/>
                  <apex:inputHidden rendered="{! Not(AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.BigMachines__Status__c != 'Order Submitted')) || quote.Deal_Score__c == null || quote.Deal_Score__c < 1}"/>
                  <apex:pageBlockSectionItem helpText="{!$Label.DDS_Cloud_Discount_HelpText}">
                     <apex:outputLabel value="Discount" />
                     <apex:outputText value="{0, number,###,###,##0.00}">
                        <apex:param value="{!objDDSHistory.Raw_Score_Discount__c}"/>
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  <apex:outputText value="{!quote.Compensation_Multiplier__c}">
                  </apex:outputText>
                <apex:pageBlockSectionItem rendered="{!quote.Deal_Score__c != null && objDDSHistory != null && objDDSHistory.Raw_Score__c != null && quote.Deal_Score__c < objDDSHistory.Raw_Score__c}">
                    <apex:outputLabel value="Other factors influencing score:"/>
                    <apex:outputText value="{!SUBSTITUTE(JSENCODE(if(objDDSHistory.Third_Party_Discount_Impact__c != null && objDDSHistory.Third_Party_Discount_Impact__c != 0, '&#8226; Third Party Discount Impact\\n','') 
                    + if(objDDSHistory.Hardware_Discount_Impact__c != null && objDDSHistory.Hardware_Discount_Impact__c != 0, '&#8226; Hardware Discount Impact\\n','')
                    + if(objDDSHistory.Max_License_Discount_Impact__c != null && objDDSHistory.Max_License_Discount_Impact__c != 0, '&#8226; Max License Discount Impact\\n','')
                    + if(objDDSHistory.PS_Discount_Impact__c != null && objDDSHistory.PS_Discount_Impact__c != 0, '&#8226; PS Discount Impact\\n','')
                    ), '\\\n', '<br/>')}" escape="false"/>
                </apex:pageBlockSectionItem>
                
                <apex:pageBlockSectionItem rendered="{!quote.Deal_Score__c == null || objDDSHistory == null || objDDSHistory.Raw_Score__c == null || quote.Deal_Score__c == objDDSHistory.Raw_Score__c}">
                    <apex:outputLabel value="Other factors influencing score:"/>
                    <apex:outputText value="{!SUBSTITUTE(JSENCODE('&#8226; N/A\\n'), '\\\n', '<br/>')}" escape="false"/>
                </apex:pageBlockSectionItem>
                  <apex:pageBlockSectionItem >
                     <apex:outputLabel value="Cutoffs"/>
                     <apex:outputText escape="false" value="{!objDDSHistory.Cutoff__c}">
                     </apex:outputText>
                  </apex:pageBlockSectionItem>
                  
               </apex:pageBlockSection>
               <!--Added for DDS Calculation by Anto Ends-->
               <apex:pageBlockSection title="Totals" rendered="{!blnIsHybridCustomer}">
                  <apex:inputField label="Commited Monthly Recurring Revenue" value="{!quote.CMRR__c}" />
                  <apex:inputField label="Annual Contract Value" value="{!quote.Annual_Contract_Value__c}" />
                  <apex:inputField label="Total Contract Value" value="{!quote.Cloud_Total__c}" />
                  <apex:inputField label="Total Installation Charges" value="{!quote.Setup_Provisioning_Charges__c}" />
                  <apex:inputField value="{!quote.Monthly_Contract_Value__c}" />
               </apex:pageBlockSection>
               <apex:outputPanel layout="none" rendered="{!NOT(blnIsHybridCustomer)}">
                  <apex:pageBlockSection columns="1" title="Mass Update - Update Multiple line items">
                     <apex:pageBlockTable value="{!headerRow}" var="eachRecord" >
                        <!-- 
                           <apex:column headerValue="Bulk Calculate">
                               <apex:commandButton value="Calculat All" action="{!bulkCalculation}" status="status" reRender="pgblkRecFee,pgblkNonRecCharges"/>
                           </apex:column>
                            -->
                        <apex:column headerValue="Quantity">
                           <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" required="false"/>
                        </apex:column>
                        <apex:column headerValue="Discount">
                           <apex:inputField value="{!eachRecord.record.Discount__c}" required="false"/>
                        </apex:column>
                        <apex:column >
                           <apex:commandButton value="Update Selected & Calculate" action="{!bulkUpdate}" status="status" reRender="pgblkUsageFee,pgblkRecFee,pgblkNonRecCharges"/>
                        </apex:column>
                     </apex:pageBlockTable>
                  </apex:pageBlockSection>
                  <apex:pageBlock title="Recurring Fees" id="pgblkRecFee">
                     <!-- IVR and Media Port Options -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusIVRMPO">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkIVRAndMediaPortOptions" title="IVR and Media Port Options" rendered="{!renderIVRAndMediaPortOptions}">
                        <apex:pageBlockTable value="{!IVRAndMediaPortOptions}" var="eachRecord" rowClasses="tableRow" id="pgblktblSectionIVRAndMediaPortOption">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationIVRMPO(0, 'IVR and Media Port Options');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:image url="{!$Resource.PlusSign}" onclick="addRowIVRAndMediaPortOptions('{!eachRecord.index}', 'IVR and Media Port Options');" rendered="{!AND(eachRecord.index > -1, OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'IVR and Media Port Options');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'IVR and Media Port Options');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'IVR and Media Port Options');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'IVR and Media Port Options');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'IVR and Media Port Options');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- ASR and TTS -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusASRandTTS">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkASRandTTS" title="IVR and Media Port Add Ons - ASR and TTS" rendered="{!blnShowASRandTTS}">
                        <apex:pageBlockTable value="{!list_ASRandTTS}" var="eachRecord" rowClasses="tableRow" id="pgblktblASRandTTS">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationASRandTTS(0, 'ASR and TTS');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:image url="{!$Resource.PlusSign}" onclick="addRowASRandTTS('{!eachRecord.index}', 'ASR and TTS');" rendered="{!AND(eachRecord.index > -1, OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'ASR and TTS');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'ASR and TTS');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'ASR and TTS');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'ASR and TTS');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'ASR and TTS');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- IVR / Media Port Add Ons -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusIVRAndMediaPortAddOns">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkIVRAndMediaPortAddOns" title="IVR / Media Port Add Ons" rendered="{!renderIVRAndMediaPortAddOns}">
                        <apex:pageBlockTable value="{!IVRAndMediaPortAddOns}" var="eachRecord" rowClasses="tableRow" id="pgblktblIVRAndMediaPortAddOns">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationIVRAndMediaPortAddOns(0, 'IVR / Media Port Add Ons');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:image url="{!$Resource.PlusSign}" onclick="addRowIVRAndMediaPortAddOns('{!eachRecord.index}', 'IVR / Media Port Add Ons');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'IVR / Media Port Add Ons');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'IVR / Media Port Add Ons');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'IVR / Media Port Add Ons');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'IVR / Media Port Add Ons');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'IVR / Media Port Add Ons');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Per Seat Pricing (Base Options) -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusPerSeatPricingBase">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkPerSeatPricingBase" title="Per User Pricing (Base Options)" rendered="{!renderPerSeatPricingBase}">
                        <apex:pageBlockTable value="{!perSeatPricingBase}" var="eachRecord" rowClasses="tableRow" id="pgblktblPerSeatPricingBase">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationPerSeatPricingBase(0, 'Per Seat Pricing (Base Options)');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:image url="{!$Resource.PlusSign}" onclick="addRowPerSeatPricingBase('{!eachRecord.index}', 'Per Seat Pricing (Base Options)');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <!--<apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected),eachRecord.record.Product__c != 'Cloud Contact Center Supervisor Seat')}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Per Seat Pricing (Base Options)');" />
                                 <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected),eachRecord.record.Product__c != 'Cloud Contact Center Supervisor Seat')}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Per Seat Pricing (Base Options)');" />-->
                              <!--<apex:outputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!eachRecord.record.Product__c == 'Cloud Contact Center Supervisor Seat'}"/>-->
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Per Seat Pricing (Base Options)');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Per Seat Pricing (Base Options)');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Per Seat Pricing (Base Options)');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Per Seat Pricing (Base Options)');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable) || eachRecord.record.Product__c == 'Cloud Contact Center Supervisor Seat'}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Per Seat Pricing (Base Options)');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Bots AI Options -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusBotsAIOptions">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkBotsAIOptions" title="Bots and AI" rendered="{!renderBotsAI}">
                        <apex:pageBlockTable value="{!BotsAIOptions}" var="eachRecord" rowClasses="tableRow" id="pgblktbBotsAIOptions">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationBotsAIOptions(0, 'Bots and AI');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:image url="{!$Resource.PlusSign}" onclick="addRowIVRAndMediaPortAddOns('{!eachRecord.index}', 'Bots and AI');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of Interactions per month) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Bots and AI');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Bots and AI');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Bots and AI');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Bots and AI');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Bots and AI');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Digital Channels Options -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusDigitalChannelOptions">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkDigitalChannelOptions" title="Digital Channels Options" rendered="{!renderDigitalChannelOptions}">
                        <apex:pageBlockTable value="{!digitalChannelOptions}" var="eachRecord" rowClasses="tableRow" id="pgblktblDigitalChannelOptions">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationDigitalChannelOptions(0, 'Digital Channels Options');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:image url="{!$Resource.PlusSign}" onclick="addRowDigitalChannelOptions('{!eachRecord.index}', 'Digital Channels Options');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Digital Channels Options');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Digital Channels Options');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Digital Channels Options');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Digital Channels Options');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Digital Channels Options');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <br/>
                     <!-- Access Fees -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusAccessFees">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkAccessFees" title="Access Fees" rendered="{!blnShowAccessFees && quote.createddate < DATETIMEVALUE('2018-07-02 12:00:00')}">
                        <apex:pageBlockTable value="{!list_AccessFees}" var="eachRecord" rowClasses="tableRow">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:commandlink action="{!doCalculation}" rerender="pgblkOCM" status="statusAccessFees" title="Calculate">
                                    <apex:param value="0" name="index" assignTo="{!index}" />
                                    <apex:param value="Access Fees" name="sectionType" assignTo="{!sectionType}" />
                                    <apex:image url="{!$Resource.RefreshIcon}" width="15px" height="15px"/>
                                 </apex:commandlink>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:commandlink action="{!addMoreProduct}" rerender="pgblkAccessFees" status="statusAccessFees" rendered="{!AND(eachRecord.index > -1,eachRecord.showAddSign)}">
                                 <apex:param value="{!eachRecord.index}" name="index" assignTo="{!index}" />
                                 <apex:param value="Access Fees" name="sectionType" assignTo="{!sectionType}" />
                                 <apex:image url="{!$Resource.PlusSign}" width="15px;" height="15px"/>
                              </apex:commandlink>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Access Fees');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false"/>
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <br/>
                     <apex:pageBlock title="Inbound User Add-Ons">
                        <!-- Quality Management -->                        
                        <div style="height:5px;">
                           <apex:actionStatus id="statusQualityManagement">
                              <apex:facet name="start">
                                 Please wait ... &nbsp; 
                                 <apex:image value="/img/loading.gif"/>
                              </apex:facet>
                           </apex:actionStatus>
                        </div>
                        <apex:pageBlockSection columns="1" id="pgblkQualityManagement" title="Quality Management" rendered="{!renderInboundSeatAddOnsQM}">
                           <apex:pageBlockTable value="{!inboundSeatAddOnsQM}" var="eachRecord" rowClasses="tableRow" id="pgblktblQualityManagement">
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                                 <apex:facet name="header">
                                    <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationQualityManagement(0, 'Quality Management');" width="15px" height="15px"/>
                                 </apex:facet>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:image url="{!$Resource.PlusSign}" onclick="addRowQualityManagement('{!eachRecord.index}', 'Quality Management');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                                 <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Quality Management');" />
                                 <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Quality Management');" />
                                 <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                                 <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                                 <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                              </apex:column>
                              <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                                 <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                    <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                    <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                       <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                    </apex:outputPanel>
                                 </apex:outputPanel>
                                 &nbsp;&nbsp;
                                 <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                              </apex:column>
                              <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                                 <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Quality Management');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                    <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                                 </apex:selectList>
                              </apex:column>
                              <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                                 <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Quality Management');" />
                                 <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                              </apex:column>
                              <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.Metric__c}" />
                              </apex:column>
                              <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Quality Management');" />
                              </apex:column>
                              <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                    <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                                 </apex:outputText>
                              </apex:column>
                              <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                    <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                                 </apex:outputText>
                              </apex:column>
                           </apex:pageBlockTable>
                        </apex:pageBlockSection>
                        <!-- Workforce Optimization -->                        
                        <div style="height:5px;">
                           <apex:actionStatus id="statusWorkforceOptimization">
                              <apex:facet name="start">
                                 Please wait ... &nbsp; 
                                 <apex:image value="/img/loading.gif"/>
                              </apex:facet>
                           </apex:actionStatus>
                        </div>
                        <apex:pageBlockSection columns="1" id="pgblkWorkforceOptimization" title="Workforce Optimization" rendered="{!renderInboundSeatAddOnsWO}">
                           <apex:pageBlockTable value="{!InboundSeatAddOnsWO}" var="eachRecord" rowClasses="tableRow" id="pgblktblQualityManagement">
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                                 <apex:facet name="header">
                                    <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationWorkforceOptimization(0, 'Workforce Optimization');" width="15px" height="15px"/>
                                 </apex:facet>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:image url="{!$Resource.PlusSign}" onclick="addRowWorkforceOptimization('{!eachRecord.index}', 'Workforce Optimization');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                                 <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Workforce Optimization');" />
                                 <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Workforce Optimization');" />
                                 <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                                 <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                                 <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                              </apex:column>
                              <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                                 <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                    <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                    <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                       <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                    </apex:outputPanel>
                                 </apex:outputPanel>
                                 &nbsp;&nbsp;
                                 <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                              </apex:column>
                              <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                                 <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Workforce Optimization');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                    <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                                 </apex:selectList>
                              </apex:column>
                              <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                                 <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Workforce Optimization');" />
                                 <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                              </apex:column>
                              <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.Metric__c}" />
                              </apex:column>
                              <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Workforce Optimization');" />
                              </apex:column>
                              <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                    <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                                 </apex:outputText>
                              </apex:column>
                              <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                    <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                                 </apex:outputText>
                              </apex:column>
                           </apex:pageBlockTable>
                        </apex:pageBlockSection>
                        <!-- Other Services -->                        
                        <div style="height:5px;">
                           <apex:actionStatus id="statusOtherServices">
                              <apex:facet name="start">
                                 Please wait ... &nbsp; 
                                 <apex:image value="/img/loading.gif"/>
                              </apex:facet>
                           </apex:actionStatus>
                        </div>
                        <apex:pageBlockSection columns="1" id="pgblkOtherServices" title="Other Services" rendered="{!renderInboundSeatAddOnsOS}">
                           <apex:pageBlockTable value="{!InboundSeatAddOnsOS}" var="eachRecord" rowClasses="tableRow" id="pgblktblOtherServices">
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                                 <apex:facet name="header">
                                    <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationOtherServices(0, 'Other Services');" width="15px" height="15px"/>
                                 </apex:facet>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:image url="{!$Resource.PlusSign}" onclick="addRowOtherServices('{!eachRecord.index}', 'Other Services');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                                 <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Other Services');" />
                                 <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Other Services');" />
                                 <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                                 <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                                 <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                              </apex:column>
                              <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                                 <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                    <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                    <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                       <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                    </apex:outputPanel>
                                 </apex:outputPanel>
                                 &nbsp;&nbsp;
                                 <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                              </apex:column>
                              <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                                 <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Other Services');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                    <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                                 </apex:selectList>
                              </apex:column>
                              <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                                 <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Other Services');" />
                                 <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                              </apex:column>
                              <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.Metric__c}" />
                              </apex:column>
                              <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Other Services');" />
                              </apex:column>
                              <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                    <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                                 </apex:outputText>
                              </apex:column>
                              <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                    <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                                 </apex:outputText>
                              </apex:column>
                           </apex:pageBlockTable>
                        </apex:pageBlockSection>
                     </apex:pageBlock>
                     <!-- End User End Points -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusEndUserEndPoints">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkEndUserEndPoints" title="End User End Points & Connections" rendered="{!renderEndUserEndPoints}">
                        <apex:pageBlockTable value="{!EndUserEndPoints}" var="eachRecord" rowClasses="tableRow" id="pgblktblEndUserEndPoints">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationEndUserEndPoints(0, 'End User End Points');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:image url="{!$Resource.PlusSign}" onclick="addRowEndUserEndPoints('{!eachRecord.index}', 'End User End Points');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'End User End Points');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'End User End Points');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'End User End Points');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'End User End Points');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'End User End Points');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Cloud Contact Center Adapters -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusCloudContactCenterAdapters">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkCloudContactCenterAdapters" title="Cloud Contact Center Adapters" rendered="{!renderCloudContactCenterAdapters}">
                        <apex:pageBlockTable value="{!CloudContactCenterAdapters}" var="eachRecord" rowClasses="tableRow" id="pgblktblCloudContactCenterAdapters">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationCloudContactCenterAdapters(0, 'Cloud Contact Center Adapters');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:image url="{!$Resource.PlusSign}" onclick="addRowCloudContactCenterAdapters('{!eachRecord.index}', 'Cloud Contact Center Adapters');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Cloud Contact Center Adapters');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Cloud Contact Center Adapters');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Cloud Contact Center Adapters');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Cloud Contact Center Adapters');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Cloud Contact Center Adapters');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <apex:pageBlock title="Telco">
                        <!-- Inbound to IVR -->                        
                        <div style="height:5px;">
                           <apex:actionStatus id="statusTelcoITI">
                              <apex:facet name="start">
                                 Please wait ... &nbsp; 
                                 <apex:image value="/img/loading.gif"/>
                              </apex:facet>
                           </apex:actionStatus>
                        </div>
                        <apex:pageBlockSection columns="1" id="pgblkTelcoITI" title="Inbound to IVR" rendered="{!renderTelcoITI}">
                           <apex:pageBlockTable value="{!telcoITI}" var="eachRecord" rowClasses="tableRow" id="pgblktblTelcoITI">
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                                 <apex:facet name="header">
                                    <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationTelcoITI(0, 'Inbound to IVR');" width="15px" height="15px"/>
                                 </apex:facet>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:image url="{!$Resource.PlusSign}" onclick="addRowTelcoITI('{!eachRecord.index}', 'Inbound to IVR');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                                 <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Inbound to IVR');" />
                                 <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Inbound to IVR');" />
                                 <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                                 <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                                 <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                              </apex:column>
                              <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                                 <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                    <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                    <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                       <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                    </apex:outputPanel>
                                 </apex:outputPanel>
                                 &nbsp;&nbsp;
                                 <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                              </apex:column>
                              <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                                 <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Inbound to IVR');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                    <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                                 </apex:selectList>
                              </apex:column>
                              <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                                 <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Inbound to IVR');" />
                                 <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                              </apex:column>
                              <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.Metric__c}" />
                              </apex:column>
                              <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Inbound to IVR');" />
                              </apex:column>
                              <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                    <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                                 </apex:outputText>
                              </apex:column>
                              <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                    <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                                 </apex:outputText>
                              </apex:column>
                           </apex:pageBlockTable>
                        </apex:pageBlockSection>
                        <!-- Bridging Leg / Transfer to PSTN or PLMN -->                        
                        <div style="height:5px;">
                           <apex:actionStatus id="statusTelcoBLT">
                              <apex:facet name="start">
                                 Please wait ... &nbsp; 
                                 <apex:image value="/img/loading.gif"/>
                              </apex:facet>
                           </apex:actionStatus>
                        </div>
                        <apex:pageBlockSection columns="1" id="pgblkTelcoBLT" title="Bridging Leg / Transfer to PSTN or PLMN" rendered="{!renderTelcoBLT}">
                           <apex:pageBlockTable value="{!telcoBLT}" var="eachRecord" rowClasses="tableRow" id="pgblktblTelcoBLT">
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                                 <apex:facet name="header">
                                    <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationTelcoBLT(0, 'Bridging Leg / Transfer to PSTN or PLMN');" width="15px" height="15px"/>
                                 </apex:facet>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:image url="{!$Resource.PlusSign}" onclick="addRowTelcoBLT('{!eachRecord.index}', 'Bridging Leg / Transfer to PSTN or PLMN');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                                 <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Bridging Leg / Transfer to PSTN or PLMN');" />
                                 <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Bridging Leg / Transfer to PSTN or PLMN');" />
                                 <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                                 <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                                 <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                              </apex:column>
                              <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                                 <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                    <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                    <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                       <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                    </apex:outputPanel>
                                 </apex:outputPanel>
                                 &nbsp;&nbsp;
                                 <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                              </apex:column>
                              <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                                 <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Bridging Leg / Transfer to PSTN or PLMN');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                    <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                                 </apex:selectList>
                              </apex:column>
                              <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                                 <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Bridging Leg / Transfer to PSTN or PLMN');" />
                                 <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                              </apex:column>
                              <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.Metric__c}" />
                              </apex:column>
                              <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Bridging Leg / Transfer to PSTN or PLMN');" />
                              </apex:column>
                              <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                    <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                                 </apex:outputText>
                              </apex:column>
                              <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                    <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                                 </apex:outputText>
                              </apex:column>
                           </apex:pageBlockTable>
                        </apex:pageBlockSection>
                        <!-- Outbound to PSTN or PLMN -->                        
                        <div style="height:5px;">
                           <apex:actionStatus id="statusTelcoOP">
                              <apex:facet name="start">
                                 Please wait ... &nbsp; 
                                 <apex:image value="/img/loading.gif"/>
                              </apex:facet>
                           </apex:actionStatus>
                        </div>
                        <apex:pageBlockSection columns="1" id="pgblkTelcoOP" title="Outbound to PSTN or PLMN" rendered="{!renderTelcoOP}">
                           <apex:pageBlockTable value="{!telcoOP}" var="eachRecord" rowClasses="tableRow" id="pgblktblTelcoOP">
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                                 <apex:facet name="header">
                                    <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationTelcoOP(0, 'Outbound to PSTN or PLMN');" width="15px" height="15px"/>
                                 </apex:facet>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:image url="{!$Resource.PlusSign}" onclick="addRowTelcoOP('{!eachRecord.index}', 'Outbound to PSTN or PLMN');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                                 <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Outbound to PSTN or PLMN');" />
                                 <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Outbound to PSTN or PLMN');" />
                                 <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                                 <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                                 <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                              </apex:column>
                              <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                                 <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                    <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                    <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                       <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                    </apex:outputPanel>
                                 </apex:outputPanel>
                                 &nbsp;&nbsp;
                                 <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                              </apex:column>
                              <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                                 <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Outbound to PSTN or PLMN');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                    <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                                 </apex:selectList>
                              </apex:column>
                              <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                                 <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Outbound to PSTN or PLMN');" />
                                 <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                              </apex:column>
                              <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.Metric__c}" />
                              </apex:column>
                              <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Outbound to PSTN or PLMN');" />
                              </apex:column>
                              <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                    <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                                 </apex:outputText>
                              </apex:column>
                              <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                    <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                                 </apex:outputText>
                              </apex:column>
                           </apex:pageBlockTable>
                        </apex:pageBlockSection>
                        <!-- MPLS -->                        
                        <div style="height:5px;">
                           <apex:actionStatus id="statusTelcoMPLS">
                              <apex:facet name="start">
                                 Please wait ... &nbsp; 
                                 <apex:image value="/img/loading.gif"/>
                              </apex:facet>
                           </apex:actionStatus>
                        </div>
                        <apex:pageBlockSection columns="1" id="pgblkTelcoMPLS" title="Network Access Charges" rendered="{!renderTelcoMPLS}">
                           <apex:pageBlockTable value="{!telcoMPLS}" var="eachRecord" rowClasses="tableRow" id="pgblktblTelcoMPLS">
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                                 <apex:facet name="header">
                                    <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationTelcoMPLS(0, 'MPLS');" width="15px" height="15px"/>
                                 </apex:facet>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}">
                                 <apex:image url="{!$Resource.PlusSign}" onclick="addRowTelcoMPLS('{!eachRecord.index}', 'MPLS');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                              </apex:column>
                              <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                                 <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'MPLS');" />
                                 <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'MPLS');" />
                                 <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                                 <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                                 <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                              </apex:column>
                              <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                                 <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                    <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                    <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                       <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                    </apex:outputPanel>
                                 </apex:outputPanel>
                                 &nbsp;&nbsp;
                                 <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                              </apex:column>
                              <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                                 <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'MPLS');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                    <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                                 </apex:selectList>
                              </apex:column>
                              <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                                 <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'MPLS');" />
                                 <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                              </apex:column>
                              <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputField value="{!eachRecord.record.Metric__c}" />
                              </apex:column>
                              <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                                 <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'MPLS');" />
                              </apex:column>
                              <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                    <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                                 </apex:outputText>
                              </apex:column>
                              <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                                 <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                    <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                                 </apex:outputText>
                              </apex:column>
                           </apex:pageBlockTable>
                        </apex:pageBlockSection>
                     </apex:pageBlock>
                     <!-- Short And Long Code Fees -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusShortLongCodeRec">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkShortLongCodeRec" title="Outbound Short And Long Code Fees" rendered="{!blnShowShortLongCodeRec}">
                        <apex:pageBlockTable value="{!list_ShortLongCodeRec}" var="eachRecord" rowClasses="tableRow">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:commandlink action="{!doCalculation}" rerender="pgblkShortLongCodeRec" status="statusShortLongCodeRec" title="Calculate">
                                    <apex:param value="0" name="index" assignTo="{!index}" />
                                    <apex:param value="Short/Long Code Recurring Fees" name="sectionType" assignTo="{!sectionType}" />
                                    <apex:image url="{!$Resource.RefreshIcon}" width="15px" height="15px"/>
                                 </apex:commandlink>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:commandlink action="{!addMoreProduct}" rerender="pgblkShortLongCodeRec" status="statusShortLongCodeRec" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}">
                                 <apex:param value="{!eachRecord.index}" name="index" assignTo="{!index}" />
                                 <apex:param value="Short/Long Code Recurring Fees" name="sectionType" assignTo="{!sectionType}" />
                                 <apex:image url="{!$Resource.PlusSign}" width="15px;" height="15px"/>
                              </apex:commandlink>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false"/>
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}"/>
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Software Or Platform Licensing -->                   
                     <div style="height:5px;">
                        <apex:actionStatus id="statusSWPlatformLicensing">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkSWPlatformLicensing" title="Outbound Software Or Platform Licensing" rendered="{!blnShowSWPlatformLicensing}">
                        <apex:pageBlockTable value="{!list_SWPlatformLicensing}" var="eachRecord" rowClasses="tableRow">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:commandlink action="{!doCalculation}" rerender="pgblkSWPlatformLicensing" status="statusSWPlatformLicensing" title="Calculate">
                                    <apex:param value="0" name="index" assignTo="{!index}" />
                                    <apex:param value="SW/Platform Licensing" name="sectionType" assignTo="{!sectionType}" />
                                    <apex:image url="{!$Resource.RefreshIcon}" width="15px" height="15px"/>
                                 </apex:commandlink>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:commandlink action="{!addMoreProduct}" rerender="pgblkSWPlatformLicensing" status="statusSWPlatformLicensing" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}">
                                 <apex:param value="{!eachRecord.index}" name="index" assignTo="{!index}" />
                                 <apex:param value="SW/Platform Licensing" name="sectionType" assignTo="{!sectionType}" />
                                 <apex:image url="{!$Resource.PlusSign}" width="15px;" height="15px"/>
                              </apex:commandlink>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false"/>
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}"/>
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Genesys Care --> <!--    COMMENTED BY ANKIT FOR COMMENTING SUPPORT/GENESYS CARE                    
                        <div style="height:5px;">
                            <apex:actionStatus id="statusGenesysCare">
                                <apex:facet name="start">    
                                    Please wait ... &nbsp; <apex:image value="/img/loading.gif"/>
                                </apex:facet>                           
                            </apex:actionStatus>
                        </div>                        
                        <apex:pageBlockSection columns="1" id="pgblkGenesysCare" title="Genesys Care" rendered="{!renderGenesysCare}">
                            <apex:pageBlockTable value="{!GenesysCare}" var="eachRecord" rowClasses="tableRow" id="pgblktblGenesysCare">
                                <apex:column styleClass="{!eachRecord.styleClass}">
                                    <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />                                    
                                    <apex:facet name="header">
                                        <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationGenesysCare(0, 'Genesys Care');" width="15px" height="15px"/>
                                    </apex:facet>                                                                 
                                </apex:column>
                                <apex:column styleClass="{!eachRecord.styleClass}">
                                    <apex:image url="{!$Resource.PlusSign}" onclick="addRowGenesysCare('{!eachRecord.index}', 'Genesys Care');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>                                                                        
                                </apex:column>
                                <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">                                 
                                    <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Genesys Care');" />
                                    <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Genesys Care');" />
                                    <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>       
                                    <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>                                    
                                    <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />                                                                           
                                </apex:column>                   
                                <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                                    <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                                    <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                        <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                        <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                            <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                        </apex:outputPanel>
                                    </apex:outputPanel>
                                    &nbsp;&nbsp;
                                    <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                                </apex:column>             
                                <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                                    <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Genesys Care');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                        <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                                    </apex:selectList>
                                </apex:column>             
                                <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                                    <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />                                                                                   
                                    <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Genesys Care');" />
                                    <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                                </apex:column>
                                <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                                    <apex:outputField value="{!eachRecord.record.Metric__c}" />
                                </apex:column>
                                <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                                    <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Genesys Care');" />
                                </apex:column>
                                <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                                    <apex:outputField value="{!eachRecord.record.Net_Unit_Price_Cloud__c}" />
                                </apex:column>
                                <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                                    <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                        <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                                    </apex:outputText>
                                </apex:column>                                                                                                                                            
                            </apex:pageBlockTable>                  
                        </apex:pageBlockSection>
                        <apex:pageBlockSection columns="1" id="pgblkSectionSupport" title="Support" rendered="{!renderSupportSubscriptions}">
                            <apex:pageBlockTable value="{!supportSubscriptions}" var="eachRecord" rowClasses="tableRow">          
                                <apex:column styleClass="{!eachRecord.styleClass}">
                                    <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.detailRow}"/>                                    
                                </apex:column> 
                                <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Level Of Support">
                                    <apex:selectList value="{!eachRecord.record.Level_Of_Support__c}" size="1" rendered="{!eachRecord.detailRow}">
                                        <apex:SelectOptions value="{!supportOptionList}" />
                                    </apex:selectList>                                        
                                </apex:column>                                 
                                <apex:repeat value="{!$ObjectType.BigMachines__Quote_Product__c.FieldSets.Service_Order_Support}" var="f">
                                    <apex:column headerValue="{!f.label}"  styleClass="{!eachRecord.styleClass}">
                                        <apex:outputField value="{!eachRecord.record[f]}" rendered="{!AND(NOT(f.required), eachRecord.detailRow, f.label != 'Extended Price Per Month')}" />
                                        <apex:inputField value="{!eachRecord.record[f]}" rendered="{!AND(f.required, eachRecord.detailRow)}" required="false"/>
                                        &nbsp;&nbsp;
                                        <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!AND(f.label == 'Product', eachRecord.detailRow)}"/>
                                        <apex:outputPanel rendered="{!f.label == 'Level Of Support'}">
                                            <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>       
                                            <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                                        </apex:outputPanel>
                                        <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month" rendered="{!f.label == 'Extended Price Per Month'}">
                                            <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                                        </apex:outputText>
                                    </apex:column>
                                    <apex:outputPanel rendered="{!NOT(eachRecord.detailRow)}">                                         
                                        <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month" rendered="{!f.label == 'Total Extended Price Per Month'}">
                                            <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                                        </apex:outputText>
                                        <!--   
                                        <apex:outputField value="{!eachRecord.record.Extended_Price_Per_Month__c}" rendered="{!f.label == 'Total Extended Price Per Month'}"/>
                                             -->    <!--   COMMENTED BY ANKIT FOR COMMENTING SUPPORT/GENESYS CARE                                
                        </apex:outputPanel>
                        </apex:repeat>                      
                        </apex:pageBlockTable>      
                        </apex:pageBlockSection>-->    
                  </apex:pageBlock>
                  <apex:pageBlock title="Outbound SMS & Email Usage-Based fees" id="pgblkUsageFee">
                     <!-- Per Message / Per Minute Pricing -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusPerMsgPerMin">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkPerMsgPerMin" title="Per Message / Per Minute Pricing" rendered="{!blnShowPerMsgPerMin}">
                        <apex:pageBlockTable value="{!list_PerMsgPerMin}" var="eachRecord" rowClasses="tableRow">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:commandlink action="{!doCalculation}" rerender="pgblkPerMsgPerMin" status="statusPerMsgPerMin" title="Calculate">
                                    <apex:param value="0" name="index" assignTo="{!index}" />
                                    <apex:param value="Per Message/Per Minute" name="sectionType" assignTo="{!sectionType}" />
                                    <apex:image url="{!$Resource.RefreshIcon}" width="15px" height="15px"/>
                                 </apex:commandlink>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:commandlink action="{!addMoreProduct}" rerender="pgblkPerMsgPerMin" status="statusPerMsgPerMin" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}">
                                 <apex:param value="{!eachRecord.index}" name="index" assignTo="{!index}" />
                                 <apex:param value="Per Message/Per Minute" name="sectionType" assignTo="{!sectionType}" />
                                 <apex:image url="{!$Resource.PlusSign}" width="15px;" height="15px"/>
                              </apex:commandlink>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false"/>
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                  </apex:pageBlock>
                  <apex:pageBlock title="Non Recurring Fees" id="pgblkNonRecCharges" >
                     <!-- PureSuccess Offer -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusPureSuccessBase">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <!--Anju PEC PureSucess -->
                     <apex:pageBlockSection columns="1" id="pgblkPureSuccessBase" title="PureSuccess Offer" rendered="{!blnShowPureSuccessBase && (quote.Keep_the_existing_estate_on_Perpetual__c || opp.Type == 'New logo' || opp.Cloud_Renewal__c)}">
                        <apex:pageBlockTable value="{!list_PureSuccessBase}" var="eachRecord" rowClasses="tableRow" id="pgblktblPureSuccessBase">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" id="BaseCheckbox" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationPureSuccessBase(0, 'PureSuccess Offer');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'PureSuccess Offer');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'PureSuccess Offer');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputText value="{!eachRecord.productDescription}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'PureSuccess Offer');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'PureSuccess Offer');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'PureSuccess Offer');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- PureSuccess A-la-Cartet -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusPureSuccessalaCarte">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkPureSuccessalaCarte" title="PureSuccess A-la-Carte" rendered="{!blnShowPureSuccessalaCarte && (quote.Keep_the_existing_estate_on_Perpetual__c || quote.Does_customer_currently_have_PureSuccess__c || opp.Type == 'New logo' || opp.Cloud_Renewal__c)}">
                        <apex:pageBlockTable value="{!list_PureSuccessalaCarte}" var="eachRecord" rowClasses="tableRow" id="pgblktblPureSuccessalaCarte">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationPureSuccessAlaCarte(0, 'PureSuccess Direct A-la-Carte');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'PureSuccess Direct A-la-Carte');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'PureSuccess Direct A-la-Carte');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputText value="{!eachRecord.productDescription}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'PureSuccess Direct A-la-Carte');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'PureSuccess Direct A-la-Carte');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'PureSuccess Direct A-la-Carte');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Telco Cross Connect -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusTelcoCrossConnect">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkTelcoCrossConnect" title="Network Access Charges" rendered="{!renderTelcoCrossConnect}">
                        <apex:pageBlockTable value="{!TelcoCrossConnect}" var="eachRecord" rowClasses="tableRow" id="pgblktblTelcoCrossConnect">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationTelcoCrossConnect(0, 'Telco Cross Connect');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:image url="{!$Resource.PlusSign}" onclick="addRowTelcoCrossConnect('{!eachRecord.index}', 'Telco Cross Connect');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Telco Cross Connect');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Telco Cross Connect');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Telco Cross Connect');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Telco Cross Connect');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Telco Cross Connect');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Professional Services Rapid Deployment ImplementationPackages -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusPSRapidDevelopmentImplementationPackage">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkPSRapidDevelopmentImplementationPackage" title="Professional Services Rapid Deployment ImplementationPackages" rendered="{!renderPSRapidDevelopmentImplementationPackage}">
                        <apex:pageBlockTable value="{!PSRapidDevelopmentImplementationPackage}" var="eachRecord" rowClasses="tableRow" id="pgblktblPSRapidDevelopmentImplementationPackage">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationPSRapidDevelopmentImplementationPackage(0, 'Professional Services Rapid Deployment ImplementationPackages');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:image url="{!$Resource.PlusSign}" onclick="addRowUS('{!eachRecord.index}', 'Professional Services Rapid Deployment ImplementationPackages');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services Rapid Deployment ImplementationPackages');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services Rapid Deployment ImplementationPackages');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services Rapid Deployment ImplementationPackages');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services Rapid Deployment ImplementationPackages');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services Rapid Deployment ImplementationPackages');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Professional Services Implementation -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusPSImplementation">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkPSImplementation" title="Professional Services Implementation" rendered="{!renderPSImplementation}">
                        <apex:pageBlockTable value="{!PSImplementation}" var="eachRecord" rowClasses="tableRow" id="pgblktblPSImplementation">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationPSImplementation(0, 'Professional Services Implementation');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:image url="{!$Resource.PlusSign}" onclick="addRowPSImplementation('{!eachRecord.index}', 'Professional Services Implementation');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services Implementation');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services Implementation');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Telco Cross Connect');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services Implementation');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services Implementation');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Installation Charges -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusInstallationCharges">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkInstallationCharges" title="Installation Charges" rendered="{!renderInstallationCharges}">
                        <apex:pageBlockTable value="{!InstallationCharges}" var="eachRecord" rowClasses="tableRow" id="pgblktblInstallationCharges">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:image url="{!$Resource.RefreshIcon}" title="Calculate" style="cursor:pointer;" onclick="doCalculationInstallationCharges(0, 'Installation');" width="15px" height="15px"/>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:image url="{!$Resource.PlusSign}" onclick="addRowInstallationCharges('{!eachRecord.index}', 'Installation');" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}" width="15px;" height="15px" style="cursor:pointer;"/>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Installation');" />
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Installation');" />
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Telco Cross Connect');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Installation');" />
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false" onchange="doCalculationJS('{!eachRecord.index}', 'Installation');" />
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Genesys Cloud Care Options -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusGenesysCloudCare">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkGenesysCloudCare" title="Genesys Cloud Care Options" rendered="{!blnShowGenesysCloudCare}">
                        <apex:pageBlockTable value="{!list_GenesysCloudCare}" var="eachRecord" rowClasses="tableRow">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:commandlink action="{!doCalculation}" rerender="pgblkGenesysCloudCare" status="statusGenesysCloudCare" title="Calculate">
                                    <apex:param value="0" name="index" assignTo="{!index}" />
                                    <apex:param value="Genesys Cloud Care" name="sectionType" assignTo="{!sectionType}" />
                                    <apex:image url="{!$Resource.RefreshIcon}" width="15px" height="15px"/>
                                 </apex:commandlink>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:commandlink action="{!addMoreProduct}" rerender="pgblkGenesysCloudCare" status="statusGenesysCloudCare" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}">
                                 <apex:param value="{!eachRecord.index}" name="index" assignTo="{!index}" />
                                 <apex:param value="Genesys Cloud Care" name="sectionType" assignTo="{!sectionType}" />
                                 <apex:image url="{!$Resource.PlusSign}" width="15px;" height="15px"/>
                              </apex:commandlink>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Telco Cross Connect');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false"/>
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Genesys University Training -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusGUTraining">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkGUTraining" title="Genesys University Training" rendered="{!blnShowGUTraining}">
                        <apex:pageBlockTable value="{!list_GUTraining}" var="eachRecord" rowClasses="tableRow">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:commandlink action="{!doCalculation}" rerender="pgblkGenesysCloudCare" status="statusGUTraining" title="Calculate">
                                    <apex:param value="0" name="index" assignTo="{!index}" />
                                    <apex:param value="Genesys University Training" name="sectionType" assignTo="{!sectionType}" />
                                    <apex:image url="{!$Resource.RefreshIcon}" width="15px" height="15px"/>
                                 </apex:commandlink>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:commandlink action="{!addMoreProduct}" rerender="pgblkGUTraining" status="statusGUTraining" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}">
                                 <apex:param value="{!eachRecord.index}" name="index" assignTo="{!index}" />
                                 <apex:param value="Genesys University Training" name="sectionType" assignTo="{!sectionType}" />
                                 <apex:image url="{!$Resource.PlusSign}" width="15px;" height="15px"/>
                              </apex:commandlink>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity (# of ports/minutes/users) or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Telco Cross Connect');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false"/>
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Short And Long Code Fees -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusShortLongCodeNonRec">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkShortLongCodeNonRec" title="Outbound Short And Long Code Fees" rendered="{!blnShowShortLongCodeNonRec}">
                        <apex:pageBlockTable value="{!list_ShortLongCodeNonRec}" var="eachRecord" rowClasses="tableRow">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:commandlink action="{!doCalculation}" rerender="pgblkShortLongCodeNonRec" status="statusShortLongCodeNonRec" title="Calculate">
                                    <apex:param value="0" name="index" assignTo="{!index}" />
                                    <apex:param value="Short/Long Code Non Recurring Fees" name="sectionType" assignTo="{!sectionType}" />
                                    <apex:image url="{!$Resource.RefreshIcon}" width="15px" height="15px"/>
                                 </apex:commandlink>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:commandlink action="{!addMoreProduct}" rerender="pgblkShortLongCodeNonRec" status="statusShortLongCodeNonRec" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}">
                                 <apex:param value="{!eachRecord.index}" name="index" assignTo="{!index}" />
                                 <apex:param value="Short/Long Code Non Recurring Fees" name="sectionType" assignTo="{!sectionType}" />
                                 <apex:image url="{!$Resource.PlusSign}" width="15px;" height="15px"/>
                              </apex:commandlink>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false"/>
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}"/>
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <!-- Software Or Platform Implementation -->                        
                     <div style="height:5px;">
                        <apex:actionStatus id="statusSWPlatformImplementation">
                           <apex:facet name="start">
                              Please wait ... &nbsp; 
                              <apex:image value="/img/loading.gif"/>
                           </apex:facet>
                        </apex:actionStatus>
                     </div>
                     <apex:pageBlockSection columns="1" id="pgblkSWPlatformImplementation" title="Outbound Software Or Platform Implementation" rendered="{!blnShowSWPlatformImplementation}">
                        <apex:pageBlockTable value="{!list_SWPlatformImplementation}" var="eachRecord" rowClasses="tableRow">
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:inputCheckBox value="{!eachRecord.selected}" rendered="{!eachRecord.index > -1}" disabled="{!eachRecord.autoSelected}" />
                              <apex:facet name="header">
                                 <apex:commandlink action="{!doCalculation}" rerender="pgblkSWPlatformImplementation" status="statusSWPlatformImplementation" title="Calculate">
                                    <apex:param value="0" name="index" assignTo="{!index}" />
                                    <apex:param value="SW/Platform Implementation" name="sectionType" assignTo="{!sectionType}" />
                                    <apex:image url="{!$Resource.RefreshIcon}" width="15px" height="15px"/>
                                 </apex:commandlink>
                              </apex:facet>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}">
                              <apex:commandlink action="{!addMoreProduct}" rerender="pgblkSWPlatformImplementation" status="statusSWPlatformImplementation" rendered="{!AND(eachRecord.index > -1,  OR(eachRecord.hasDevcies, eachRecord.showAddSign))}">
                                 <apex:param value="{!eachRecord.index}" name="index" assignTo="{!index}" />
                                 <apex:param value="SW/Platform Implementation" name="sectionType" assignTo="{!sectionType}" />
                                 <apex:image url="{!$Resource.PlusSign}" width="15px;" height="15px"/>
                              </apex:commandlink>
                           </apex:column>
                           <apex:column styleClass="{!eachRecord.styleClass}" headerValue="Quantity or Yes/No">
                              <apex:inputField value="{!eachRecord.record.BigMachines__Quantity__c}" rendered="{!AND(eachRecord.productOption != 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:inputField value="{!eachRecord.record.Product_Option__c}" rendered="{!AND(eachRecord.productOption == 'Yes/No', eachRecord.detailRow, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:commandButton value="Save" onclick="saveAJAX(); return false;" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id != '',NOT(eachRecord.detailRow))}"/>
                              <apex:commandButton value="Save" action="{!save}" rendered="{!AND(quote.BigMachines__Status__c != 'Quote Approval Pending',quote.BigMachines__Status__c != 'Quote Approved',quote.id == '',NOT(eachRecord.detailRow))}"/>
                              <apex:image url="{!$Resource.ErrorIcon}" rendered="{!eachRecord.styleClass == 'errorRow'}" title="{!eachRecord.errorMsg}" width="15px;" height="15px" />
                           </apex:column>
                           <apex:column headerValue="Product" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Product__c}" rendered="{!eachRecord.isProductNameEditable}" />
                              <apex:outputPanel rendered="{!NOT(eachRecord.isProductNameEditable)}">
                                 <apex:outputField value="{!eachRecord.record.Product__c}"  rendered="{!NOT(eachRecord.showOrderAsLink)}" />
                                 <apex:outputPanel rendered="{!eachRecord.showOrderAsLink}" >
                                    <span onclick="modalWin('{!eachRecord.record.BigMachines__Product__c}', '{!eachRecord.record.Discount__c}')" style="cursor:pointer;"> <u>{!eachRecord.record.Product__c}</u> </span>
                                 </apex:outputPanel>
                              </apex:outputPanel>
                              &nbsp;&nbsp;
                              <apex:image url="{!$Resource.HelpIcon}" width="15px;" height="15px" style="cursor:pointer;" title="{!eachRecord.productDescription}" rendered="{!eachRecord.detailRow}"/>
                           </apex:column>
                           <apex:column headerValue="Devices/Services" styleClass="{!eachRecord.styleClass}">
                              <apex:selectList value="{!eachRecord.record.Device__c}" rendered="{!eachRecord.hasDevcies}" size="1"  onchange="doCalculationJS('{!eachRecord.index}', 'Professional Services');" style="width:150px" disabled="{!eachRecord.autoSelected}">
                                 <apex:SelectOptions value="{!mapProductVsProductDevices[eachRecord.record.BigMachines__Product__c]}" />
                              </apex:selectList>
                           </apex:column>
                           <apex:column headerValue="List Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.List_Price__c}" rendered="{!NOT(eachRecord.isListPriceEditable)}" />
                              <apex:inputField value="{!eachRecord.record.List_Price__c}" rendered="{!AND(eachRecord.isListPriceEditable, NOT(eachRecord.autoSelected))}" required="false"/>
                              <apex:outputText value="%" rendered="{!eachRecord.isListPriceInDiscount}"/>
                           </apex:column>
                           <apex:column headerValue="Metric" styleClass="{!eachRecord.styleClass}">
                              <apex:outputField value="{!eachRecord.record.Metric__c}" />
                           </apex:column>
                           <apex:column headerValue="Discount" styleClass="{!eachRecord.styleClass}">
                              <apex:inputField value="{!eachRecord.record.Discount__c}" rendered="{!AND(NOT(eachRecord.autoSelected), eachRecord.isDiscountable)}" required="false"/>
                           </apex:column>
                           <apex:column headerValue="Net Price" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Net Unit Price">
                                 <apex:param value="{!eachRecord.record.Net_Unit_Price__c}"/>
                              </apex:outputText>
                           </apex:column>
                           <apex:column headerValue="Extended Price Per Period" styleClass="{!eachRecord.styleClass}">
                              <apex:outputText value="{0, number, ###,##0.0000}" label="Extended Price Per Month">
                                 <apex:param value="{!eachRecord.record.Extended_Price_Per_Month__c}" />
                              </apex:outputText>
                           </apex:column>
                        </apex:pageBlockTable>
                     </apex:pageBlockSection>
                     <apex:pageBlockSection title="Totals">
                        <apex:outputField label="Commited Monthly Recurring Revenue" value="{!quote.CMRR__c}" />
                        <apex:outputField label="Annual Contract Value" value="{!quote.Annual_Contract_Value__c}" />
                        <apex:outputField label="Total Contract Value" value="{!quote.Cloud_Total__c}" />
                        <apex:outputField label="Total Installation Charges" value="{!quote.Setup_Provisioning_Charges__c}" />
                        <apex:outputField value="{!quote.Monthly_Contract_Value__c}" />
                        <apex:outputField value="{!quote.Token_Value__c}" label="Token #" rendered="{!if(quote.Token_Value__c != null && quote.Token_Value__c > 0, true, false)}"/>
                        <apex:outputField label="PureSuccess Offer Amount" value="{!quote.PureSuccess_Offer_Subscription_Amount__c}" rendered="{!if(quote.PureSuccess_Offer_Subscription_Amount__c != null && quote.PureSuccess_Offer_Subscription_Amount__c > 0, true, false)}"/>
                        <apex:outputField value="{!quote.A_La_Carte_PureSuccess_Services_Amount__c}" rendered="{!if(quote.A_La_Carte_PureSuccess_Services_Amount__c != null && quote.A_La_Carte_PureSuccess_Services_Amount__c > 0, true, false)}"/>
                     </apex:pageBlockSection>
                  </apex:pageBlock>
               </apex:outputPanel>
            </apex:tab>
            <!--<apex:tab label="DAP Details" name="DAPFieldsTab" id="DAPFieldsTab">
               <apex:pageBlockSection columns="1">
                   <apex:repeat value="{!$ObjectType.BigMachines__Quote__c.FieldSets.Service_Order_Quote_DAP_Fields}" var="f">
                       <apex:inputField value="{!quote[f]}" rendered="{!f.required}" style="width:100%" />
                       <apex:outputField value="{!quote[f]}" rendered="{!NOT(f.required)}" />                  
                   </apex:repeat>
               </apex:pageBlockSection>                    
               </apex:tab>-->
            <apex:tab label="Special Offer/Legal Terms" name="specialOfferTab" id="specialOfferTab">
               <apex:pageBlockSection columns="1">
                  <apex:repeat value="{!$ObjectType.BigMachines__Quote__c.FieldSets.Service_Order_Special_Offer_Tab_Fields}" var="f">
                     <apex:inputField value="{!quote[f]}" rendered="{!f.required}" style="width:100%" />
                     <apex:outputField value="{!quote[f]}" rendered="{!NOT(f.required)}" />
                  </apex:repeat>
               </apex:pageBlockSection>
            </apex:tab>
            <!--<apex:tab label="Upfront Approval" name="upfrontApprovalTab" id="upfrontApprovalTab">   
               <apex:outputPanel layout="block" id="pnlUpfrontApprovals">
                   <iframe src="/apex/QuoteUpfrontApprovalOnPremise?id={!quote.id}" scrolling="auto" height="300px" width="100%" id="ifUpfront"></iframe>
               </apex:outputPanel>                    
               </apex:tab>-->
            <apex:tab label="Order Info" name="orderInfoTab" id="orderInfoTab" rendered="{!quote.BigMachines__Status__c == 'Quote Approved' || quote.BigMachines__Status__c == 'Order Submitted'}">
               <apex:pageBlockSection columns="2">
                  <apex:inputField value="{!quote.Order_PO_Number__c}"/>
                  <apex:inputField value="{!quote.Order_PO_Date__c}"/>
                  <apex:inputField value="{!quote.Order_PO_Received_Date__c}"/>
               </apex:pageBlockSection>
            </apex:tab>
            <apex:tab label="Output Options" name="OutputOptionsTab" id="OutputOptionsTab" 
               rendered="{!(quote.BigMachines__Status__c == 'Quote Approved' || quote.BigMachines__Status__c == 'Order Submitted')}">
               <apex:pageBlockSection columns="2">
                  <apex:inputField value="{!quote.Hide_Discount__c}"/>
                  <apex:inputField value="{!quote.Hide_Totals__c}"/>
                  <apex:inputField value="{!quote.Proposal_Date__c}"/>
               </apex:pageBlockSection>
            </apex:tab>
         </apex:tabPanel>
      </apex:pageBlock>
   </apex:form>
   <!-- Billing Address Section -->
   <apex:include pageName="OrderAddressCloud" rendered="{!NOT(ISBLANK(quote.id)) && 
      (quote.BigMachines__Status__c == 'Quote Approved' || quote.BigMachines__Status__c == 'Order Submitted')}"/>
   <!--<div id="approvalHistory">
      <apex:outputPanel id="pnlQuoteHistory">  
          <c:QuoteApprovalHistory idQuote="{!quote.id}" retURL="/apex/ServiceOrderQuoteToolBE?id={!quote.id}" />
      </apex:outputPanel> 
      </div>-->
   <div style="height:15px;">
      <apex:actionStatus id="status">
         <apex:facet name="start">
            <apex:outputPanel id="popPanel">
               <apex:outputPanel styleClass="popupBackground" layout="block"/>
               <apex:outputPanel styleClass="custPopup" layout="block">
                  <apex:outputPanel layout="block" style="text-align:center;">
                     Please wait ... &nbsp; 
                     <apex:image value="/img/loading.gif"/>
                  </apex:outputPanel>
               </apex:outputPanel>
            </apex:outputPanel>
         </apex:facet>
      </apex:actionStatus>
   </div>
   <script>
      var button = document.getElementsByName('piSubmit');
      if(button != null && button.length > 0)
          button[0].style.display = 'none';
   </script>
   <apex:outputPanel id="pnlDQJS">
      <script>           
         function openDQ(){
             var url = '/apex/DealQualificationCloud?oppId={!quote.BigMachines__Opportunity__c}&p={!quote.Quote_Opportunity_Type__c}&ot=Business%20Edition&pt=Cloud'; 
             window.open(url, '_blank');
         }
         function confirmDQRevise(){               
             //location.href = '/apex/DealQualificationCloud?oppId={!quote.BigMachines__Opportunity__c}&p={!quote.Quote_Opportunity_Type__c}';
             //return;
             //alert('{!dqStatus}');
             
             if('{!dqStatus}' == '' ||'{!dqStatus}' == 'Not Approved' || '{!dqStatus}' == 'In Progress' || '{!dqStatus}' == 'Revision Pending' ){
                 synchAndGoToDQAF();     
             }
             else{
                 showReviseVisibilityAF();                                       
             }
         }
         
         function goToDQ(){            
             var url = '/apex/DealQualificationCloud?oppId={!quote.BigMachines__Opportunity__c}&p={!quote.Quote_Opportunity_Type__c}&ot=Business%20Edition&pt=Cloud'; 
             window.open(url, '_blank');  
             hideReviseVisibilityAF();   
             location.href='/apex/ServiceOrderQuoteToolBE?id={!quote.id}';           
         }
         function goToDQAndRevise(){            
             var url = '/apex/DealQualificationCloud?oppId={!quote.BigMachines__Opportunity__c}&p={!quote.Quote_Opportunity_Type__c}&ot=Business%20Edition&pt=Cloud&REVISE=1';
             window.open(url, '_blank');  
             hideReviseVisibilityAF(); 
             location.href='/apex/ServiceOrderQuoteToolBE?id={!quote.id}';             
         }               
      </script>
   </apex:outputPanel>
   <apex:form >
      <apex:outputPanel id="revisePopup">
         <apex:outputPanel id="revisePopPanel" rendered="{!showReviseDQPopup}">
            <apex:outputPanel styleClass="popupBackground" layout="block"/>
            <apex:outputPanel styleClass="custPopup" layout="block">
               <apex:outputPanel layout="block" style="text-align:center;">
                  <apex:pageBlock title="Revise?">
                     <apex:pageBlockButtons location="bottom">
                        <apex:commandButton value="Revise" onclick="synchAndGoAndReviseDQAF(); return false;" />
                        <apex:commandButton value="Cancel" onclick="hideReviseVisibilityAF(); return false;" />
                     </apex:pageBlockButtons>
                     <apex:pageBlockSection columns="1">
                        <b>
                        Deal qualification will be revised, click Ok to revise and go to deal qualification or Cancel.
                        </b>
                     </apex:pageBlockSection>
                  </apex:pageBlock>
               </apex:outputPanel>
            </apex:outputPanel>
         </apex:outputPanel>
      </apex:outputPanel>
      <apex:actionFunction name="showReviseVisibilityAF" action="{!showReviseVisibility}" reRender="revisePopup" status="status" />
      <apex:actionFunction name="hideReviseVisibilityAF" action="{!hideReviseVisibility}" reRender="revisePopup" status="status" />
      
   </apex:form>
</apex:page>